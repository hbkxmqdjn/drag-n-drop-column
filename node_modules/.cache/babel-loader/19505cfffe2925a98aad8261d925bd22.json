{"ast":null,"code":"var _jsxFileName = \"/Users/dingjunning/Documents/GitHub/drag-n-drop-column/src/App.js\";\nimport React, { useState, Component } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { Button } from 'react-bootstrap';\nimport { BsList } from 'react-icons/bs';\nconst available = [{\n  id: \"startTime\",\n  name: \"Start Time\"\n}, {\n  id: \"stopTime\",\n  name: \"Stop Time\"\n}, {\n  id: \"perPoint\",\n  name: \"Per Point\"\n}, {\n  id: \"initialMargin\",\n  name: \"Initial Margin\"\n}];\nconst visible = [{\n  id: \"change%\",\n  name: \"Change %\"\n}, {\n  id: \"change\",\n  name: \"Change\"\n}, {\n  id: \"last\",\n  name: \"Last\"\n}, {\n  id: \"lastVolume\",\n  name: \"Last Volume\"\n}];\nconst fixed = [{\n  id: \"symbol&Description\",\n  name: \"Symbol & Description\"\n}];\nconst columnsFromBackend = {\n  \"available\": {\n    name: \"Available\",\n    items: available\n  },\n  \"visible\": {\n    name: \"Visible\",\n    items: fixed.concat(visible)\n  }\n};\n\nconst checkDisable = item => {\n  for (let i = 0; i < fixed.length; i++) {\n    if (fixed[i].id == item.id) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onDragEnd = result => {\n      if (!result.destination) return;\n      const {\n        source,\n        destination\n      } = result;\n\n      if (source.droppableId !== destination.droppableId) {\n        const sourceColumn = this.state.columns[source.droppableId];\n        const destColumn = this.state.columns[destination.droppableId];\n        const sourceItems = [...sourceColumn.items];\n        const destItems = [...destColumn.items];\n        const [removed] = sourceItems.splice(source.index, 1);\n        destItems.splice(destination.index, 0, removed);\n        this.setState({ ...this.state.columns,\n          [source.droppableId]: { ...sourceColumn,\n            items: sourceItems\n          },\n          [destination.droppableId]: { ...destColumn,\n            items: destItems\n          }\n        });\n      } else {\n        const column = this.state.columns[source.droppableId];\n        const copiedItems = [...column.items];\n        const [removed] = copiedItems.splice(source.index, 1);\n        copiedItems.splice(destination.index, 0, removed);\n        this.setState({ ...this.state.columns,\n          [source.droppableId]: { ...column,\n            items: copiedItems\n          }\n        });\n      }\n    };\n\n    this.onDoubleClick = event => {\n      const name = event.target.innerHTML;\n      const id = name.toLowerCase();\n      const newFixed = {\n        id: id,\n        name: name\n      };\n      let index = -1;\n\n      for (let i = 0; i < this.state.fixed.length; i++) {\n        if (this.state.fixed[i].id == newFixed.id) {\n          index = i;\n          this.setState({\n            fixed: this.state.fixed.splice(index, 1)\n          });\n          break;\n        }\n      }\n\n      if (index == -1) {\n        this.setState(state => {\n          const list = state.fixed.push(newFix);\n          return;\n        });\n      }\n\n      console.log(fixed);\n    };\n\n    this.state = {\n      columns: columnsFromBackend,\n      fixed: fixed\n    };\n  } //Drag event\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: \"#000000\",\n        display: \"flex\",\n        height: \"100%\",\n        color: \"#ffffff\",\n        paddingTop: \"20px\",\n        paddingLeft: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"Configure Data Fields\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: \"#000000\",\n        display: \"flex\",\n        height: \"100%\",\n        color: \"#9da4ab\",\n        paddingLeft: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Drag & Drop between columns to configure visible data.\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: \"#000000\",\n        display: \"flex\",\n        height: \"100%\",\n        padding: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DragDropContext, {\n      style: {\n        color: \"white\"\n      },\n      onDragEnd: result => this.onDragEnd(result),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, Object.entries(this.state.columns).map(([columnId, column]) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        key: columnId,\n        onDoubleClick: event => this.onDoubleClick(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: '#9da4ab',\n          paddingLeft: \"15px\",\n          marginTop: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }\n      }, column.name), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Droppable, {\n        droppableId: columnId,\n        key: columnId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, provided => {\n        return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n          ref: provided.innerRef,\n          style: {\n            background: \"#000000\",\n            padding: 3,\n            width: 300,\n            borderStyle: \"none none none dashed\",\n            borderWidth: \"3px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 27\n          }\n        }), column.items.map((item, index) => {\n          return /*#__PURE__*/React.createElement(Draggable, {\n            key: item.id,\n            draggableId: item.id,\n            index: index,\n            isDragDisabled: checkDisable(item),\n            style: {\n              color: checkDisable(item) ? \"#252930\" : \"#9da4ab\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }\n          }, (provided, snapshot) => {\n            return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n              ref: provided.innerRef\n            }, provided.draggableProps, provided.dragHandleProps, {\n              style: {\n                userSelect: \"none\",\n                padding: 5,\n                margin: \"0 0 5px 5px\",\n                minHeight: \"20px\",\n                backgroundColor: snapshot.isDragging ? \"#252930\" : \"#000000\",\n                color: \"white\",\n                ...provided.draggableProps.style\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 39\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              className: \"iconWrapper\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 41\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                padding: \"10px\",\n                float: \"left\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 43\n              }\n            }, /*#__PURE__*/React.createElement(BsList, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 45\n              }\n            })), /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                padding: \"12px\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 43\n              }\n            }, item.name)));\n          });\n        }), provided.placeholder);\n      })));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: \"#000000\",\n        height: \"1000px\",\n        padding: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        margin: \"10px\",\n        width: \"90px\"\n      },\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        margin: \"10px\",\n        width: \"90px\"\n      },\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, \"Cancel\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/dingjunning/Documents/GitHub/drag-n-drop-column/src/App.js"],"names":["React","useState","Component","DragDropContext","Draggable","Droppable","Button","BsList","available","id","name","visible","fixed","columnsFromBackend","items","concat","checkDisable","item","i","length","App","constructor","props","onDragEnd","result","destination","source","droppableId","sourceColumn","state","columns","destColumn","sourceItems","destItems","removed","splice","index","setState","column","copiedItems","onDoubleClick","event","target","innerHTML","toLowerCase","newFixed","list","push","newFix","console","log","render","background","display","height","color","paddingTop","paddingLeft","padding","Object","entries","map","columnId","flexDirection","marginTop","provided","droppableProps","innerRef","width","borderStyle","borderWidth","snapshot","draggableProps","dragHandleProps","userSelect","margin","minHeight","backgroundColor","isDragging","style","float","placeholder"],"mappings":"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","sourcesContent":["import React, { useState, Component } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { Button } from 'react-bootstrap';\nimport { BsList } from 'react-icons/bs';\n\nconst available = [\n  { id: \"startTime\", name: \"Start Time\" },\n  { id: \"stopTime\", name: \"Stop Time\" },\n  { id: \"perPoint\", name: \"Per Point\" },\n  { id: \"initialMargin\" , name: \"Initial Margin\" },\n];\n\nconst visible = [\n  { id: \"change%\", name: \"Change %\"},\n  { id: \"change\", name: \"Change\"},\n  { id: \"last\", name: \"Last\" },\n  { id: \"lastVolume\", name: \"Last Volume\" },\n];\n\nconst fixed = [\n  { id: \"symbol&Description\", name: \"Symbol & Description\"},\n];\n\nconst columnsFromBackend = {\n  \"available\": {\n    name: \"Available\",\n    items: available\n  },\n  \"visible\": {\n    name: \"Visible\",\n    items: fixed.concat(visible)\n  },\n};\n\nconst checkDisable=(item)=>{\n  for(let i=0;i<fixed.length;i++){\n    if(fixed[i].id==item.id){\n      return true;\n    }\n  }\n  return false;\n}\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      columns: columnsFromBackend,\n      fixed: fixed,\n    }\n  }\n\n  //Drag event\n  onDragEnd = (result) => {\n    if (!result.destination) return;\n    const { source, destination } = result;\n    if (source.droppableId !== destination.droppableId) {\n      const sourceColumn = this.state.columns[source.droppableId];\n      const destColumn = this.state.columns[destination.droppableId];\n      const sourceItems = [...sourceColumn.items];\n      const destItems = [...destColumn.items];\n      const [removed] = sourceItems.splice(source.index, 1);\n      destItems.splice(destination.index, 0, removed);\n      this.setState({\n        ...this.state.columns,\n        [source.droppableId]: {\n          ...sourceColumn,\n          items: sourceItems\n        },\n        [destination.droppableId]: {\n          ...destColumn,\n          items: destItems\n        }\n      });\n    } else {\n      const column = this.state.columns[source.droppableId];\n      const copiedItems = [...column.items];\n      const [removed] = copiedItems.splice(source.index, 1);\n      copiedItems.splice(destination.index, 0, removed);\n      this.setState({\n        ...this.state.columns,\n        [source.droppableId]: {\n          ...column,\n          items: copiedItems\n        }\n      });\n    }\n  };\n\n  //Double click event\n  onDoubleClick=(event)=>{\n    const name = event.target.innerHTML;\n    const id = name.toLowerCase();\n    const newFixed = {id:id,name:name};\n    let index = -1;\n    for(let i=0;i<this.state.fixed.length;i++){\n      if(this.state.fixed[i].id==newFixed.id){\n        index =i;\n        this.setState({\n          fixed: this.state.fixed.splice(index,1)\n        });\n        break;\n      }\n    }\n    if(index==-1){\n      this.setState(state=>{\n        const list = state.fixed.push(newFix);\n        return\n      });\n    }  \n    console.log(fixed);\n  }\n\n  render(){\n    return (\n      <div>\n        <div style={{ background:\"#000000\", display:\"flex\", height: \"100%\", color:\"#ffffff\", paddingTop:\"20px\", paddingLeft:\"20px\"}}>\n          <h5>Configure Data Fields</h5>\n        </div>\n        <div style={{ background:\"#000000\", display:\"flex\", height: \"100%\", color:\"#9da4ab\",paddingLeft:\"20px\"}}>\n          <span>Drag & Drop between columns to configure visible data.</span>\n        </div>\n        <div style={{ background:\"#000000\",display: \"flex\", height: \"100%\", padding:\"20px\" }}>\n          <DragDropContext style={{color:\"white\"}} onDragEnd={result => this.onDragEnd(result)}>\n            {Object.entries(this.state.columns).map(([columnId, column]) => {\n              return (   \n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                  }}\n                  key={columnId}\n                  onDoubleClick={event=>this.onDoubleClick(event)}\n                >\n                  <p style={{color:'#9da4ab',paddingLeft:\"15px\",marginTop:\"20px\"}}>{column.name}</p>\n                  <div>\n                    <Droppable droppableId={columnId} key={columnId} >\n                      {(provided) => {\n                        return (\n                          <div\n                            {...provided.droppableProps}\n                            ref={provided.innerRef}\n                            style={{\n                              background: \"#000000\",\n                              padding: 3,\n                              width: 300,\n                              borderStyle:\"none none none dashed\",\n                              borderWidth:\"3px\",\n                            }}\n                          >\n                            {column.items.map((item, index) => {\n                              return (\n                                <Draggable\n                                  key={item.id}\n                                  draggableId={item.id}\n                                  index={index}\n                                  isDragDisabled={checkDisable(item)}\n                                  style={{\n                                    color: checkDisable(item)\n                                    ? \"#252930\"\n                                    : \"#9da4ab\",}}\n                                >\n                                  {(provided, snapshot) => {\n                                    return (\n                                      <div\n                                        ref={provided.innerRef}\n                                        {...provided.draggableProps}\n                                        {...provided.dragHandleProps}\n                                        style={{\n                                          userSelect: \"none\",\n                                          padding: 5,\n                                          margin: \"0 0 5px 5px\",\n                                          minHeight: \"20px\",\n                                          backgroundColor: snapshot.isDragging\n                                            ? \"#252930\"\n                                            : \"#000000\",\n                                          color: \"white\",\n                                          ...provided.draggableProps.style\n                                        }}\n                                      >\n                                        <div className={\"iconWrapper\"}>\n                                          <div style={{padding:\"10px\",float:\"left\"}}>\n                                            <BsList/>\n                                          </div>\n                                          <div style={{padding:\"12px\"}}>\n                                            {item.name}\n                                          </div>\n                                        </div>\n                                      </div>\n                                    );\n                                  }}\n                                </Draggable>\n                              );\n                            })}\n                            {provided.placeholder}\n                          </div>\n                        );\n                      }}\n                    </Droppable>\n                  </div>\n                </div>\n              );\n            })}\n          </DragDropContext>\n        </div>\n        <div style={{background:\"#000000\" , height:\"1000px\", padding:\"20px\"}}>\n          <Button style={{margin:\"10px\", width:\"90px\"}} variant=\"info\">Save</Button>\n          <Button style={{margin:\"10px\", width:\"90px\"}} variant=\"secondary\">Cancel</Button>\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}