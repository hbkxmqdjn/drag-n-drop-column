{"ast":null,"code":"var _jsxFileName = \"/Users/dingjunning/Documents/GitHub/drag-n-drop-column/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Button, ListGroup, ListGroupItem } from 'react-bootstrap';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      available: [{\n        id: 'startTime',\n        name: 'Start Time'\n      }, {\n        id: 'stopTime',\n        name: 'Stop Time'\n      }, {\n        id: 'perPoint',\n        name: 'Per Point'\n      }, {\n        id: 'initialMargin',\n        name: 'Initial Margin'\n      }],\n      visible: ['change%'],\n      fixed: ['Symbol & Description']\n    };\n    this.dragStart = this.dragStart.bind(this);\n    this.dragOver = this.dragOver.bind(this);\n    this.dragEnd = this.dragEnd.bind(this);\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder); // update state\n\n    var data = this.state.colors;\n    var from = Number(this.dragged.dataset.id);\n    var to = Number(this.over.dataset.id);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({\n      colors: data\n    });\n  }\n\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = \"none\";\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  render() {\n    var visible = this.state.visible.map(item => {\n      return /*#__PURE__*/React.createElement(ListGroupItem, {\n        \"data-id\": item.id,\n        draggable: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, item);\n    });\n    var available = this.state.available.map(item => {\n      return /*#__PURE__*/React.createElement(ListGroupItem, {\n        \"data-id\": item.id,\n        draggable: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, item.name);\n    });\n    var fixed = this.state.fixed.map(item => {\n      return /*#__PURE__*/React.createElement(ListGroupItem, {\n        \"data-id\": item.id,\n        draggable: \"true\",\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, item);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, \"Configure Data Fields\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"Drag & drop between columns to configure visible data.\"), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      onDragOver: this.dragOver,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListGroupItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, available)), /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListGroupItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, fixed, \" \", visible))), /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"Cancel\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/dingjunning/Documents/GitHub/drag-n-drop-column/src/App.js"],"names":["React","Button","ListGroup","ListGroupItem","App","Component","constructor","props","state","available","id","name","visible","fixed","dragStart","bind","dragOver","dragEnd","e","dragged","currentTarget","dataTransfer","effectAllowed","setData","style","display","parentNode","removeChild","placeholder","data","colors","from","Number","dataset","to","over","splice","setState","preventDefault","target","className","insertBefore","render","map","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { Button, ListGroup, ListGroupItem} from 'react-bootstrap';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      available:[{id:'startTime',name:'Start Time'},{id:'stopTime',name:'Stop Time'},{id:'perPoint',name:'Per Point'},{id:'initialMargin',name:'Initial Margin'}],\n      visible:['change%',],\n      fixed:['Symbol & Description']\n    }\n    this.dragStart=this.dragStart.bind(this);\n    this.dragOver=this.dragOver.bind(this);\n    this.dragEnd=this.dragEnd.bind(this);\n  }\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    \n    // update state\n    var data = this.state.colors;\n    var from = Number(this.dragged.dataset.id);\n    var to = Number(this.over.dataset.id);\n    if(from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({colors: data});\n  }\n\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = \"none\";\n    if(e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  render(){\n    var visible=this.state.visible.map(item=>{\n      return(\n        <ListGroupItem data-id={item.id} draggable='true'>{item}</ListGroupItem>\n      )\n    })\n    var available=this.state.available.map(item =>{\n      return(\n        <ListGroupItem data-id={item.id} draggable='true'>{item.name}</ListGroupItem>\n      )\n    })\n    var fixed=this.state.fixed.map(item=>{\n      return(\n        <ListGroupItem data-id={item.id} draggable='true'disabled>{item}</ListGroupItem>\n      )\n    })\n    return(\n      <div>\n        <h2>Configure Data Fields</h2>\n        <span>Drag & drop between columns to configure visible data.</span>\n        <ListGroup horizontal>       \n            <ListGroup variant=\"flush\" onDragOver={this.dragOver}>              \n              <ListGroupItem>{available}</ListGroupItem>\n            </ListGroup>\n            <ListGroup variant=\"flush\">\n              <ListGroupItem>{fixed} {visible}</ListGroupItem>\n            </ListGroup>\n        </ListGroup>\n        <Button size=\"sm\" variant=\"primary\">Save</Button>\n        <Button size=\"sm\" variant=\"secondary\">Cancel</Button>\n    </div>      \n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}